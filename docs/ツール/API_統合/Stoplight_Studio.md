# Stoplight Studio

## 概要

Stoplight Studio は、OpenAPI ベースの API 設計を GUI とコード編集で進められる設計ツールである。API 定義、モック、レビューを早い段階で回し、API ファースト開発を進めやすくする。

## 料金

| プラン | 内容 |
|------|------|
| 無料利用枠 | ローカル利用・基本機能の利用が可能な範囲あり |
| 有料プラン | チーム運用・管理機能を拡張 |

## 主な特徴

| 項目 | 内容 |
|------|------|
| ビジュアル設計 | Form ベースで OpenAPI を編集可能 |
| コード編集 | YAML/JSON を直接編集可能 |
| モック生成 | 仕様からモックを起動し並行開発を支援 |
| 仕様検証 | バリデーションとLintで品質を確認 |
| Git 運用 | ファイルベースで差分管理しやすい |

## 主な機能

### API 設計機能

| 機能 | 説明 |
|------|------|
| Form Editor | パス、パラメータ、レスポンスをGUIで編集 |
| Code Editor | OpenAPI を直接編集 |
| スプリット表示 | GUI とコードを並行確認 |
| Examples 管理 | モックやドキュメント用の例データ管理 |

### モック・検証機能

| 機能 | 説明 |
|------|------|
| ローカルモック | 仕様からモックエンドポイントを生成 |
| 仕様バリデーション | 記述ミスや不整合を検出 |
| Lint ルール | 設計標準の統制 |
| 変更レビュー | 仕様差分を確認しやすい |

### 協業・運用機能

| 機能 | 説明 |
|------|------|
| Git 連携 | ブランチ/PR で仕様変更を管理 |
| コメント共有 | レビュー観点をチームで共有 |
| 設計先行運用 | 実装前に仕様合意を形成 |
| 反復改善 | フロント・バック間で仕様調整しやすい |

## インストールとセットアップ

公式URL:
- [Stoplight Studio](https://stoplight.io/studio)
- [Docs](https://docs.stoplight.io/)
- [Platform](https://stoplight.io/platform)
- [Community](https://community.stoplight.io/)

セットアップの要点:
1. Studio を導入し、API 定義プロジェクトを作成する。
2. OpenAPI のファイル構成と命名規約を決める。
3. Lint ルールとレビュー手順をチームで合意する。
4. モック URL をフロントエンド開発へ共有する。

## 基本的な使い方

1. Form Editor で API の骨格（path、method、schema）を作る。
2. Code Editor で詳細（`$ref`、例外レスポンス等）を調整する。
3. モックを起動して、実装前に I/F 接続確認を行う。
4. Git で差分をレビューし、仕様を確定する。
5. 仕様を実装へ引き継ぎ、変更時は同じ流れで更新する。

最小実行例:
- 入力: `openapi.yaml`
- 出力: モックエンドポイント、レビュー済み仕様差分

## メリット

- GUI とコード編集を併用でき、設計と修正の往復を短縮しやすい。
- モックを早期に利用でき、フロントエンド並行開発を進めやすい。
- OpenAPI を Git 管理し、変更履歴を追跡しやすい。

## デメリット

- 設計中心ツールのため、実行系テストは別ツール連携が必要。
- 大規模仕様ではファイル分割・運用ルールが必須になる。
- チームで使う場合はレビュー規約の整備が前提になる。

## 他ツールとの比較

| ツール | 主な対象 | 特徴 |
|------|------|------|
| Stoplight Studio | OpenAPI 設計 | GUI とコード編集を両立 |
| Swagger Editor | OpenAPI 編集 | 軽量に仕様編集を実施 |
| Apidog | 設計〜テスト統合 | テスト/モックまで一体運用しやすい |
| Postman | API 実行・検証 | 実行テストとコレクション運用に強い |

## ベストプラクティス

### 1. 仕様設計の責務を明確化

- エンドポイント設計とスキーマ設計の担当を分ける。
- レビュー観点（命名、エラー設計）を固定化する。

### 2. `$ref` 前提で分割管理

- コンポーネントを機能別に分割して再利用する。
- 変更影響を PR で確認しやすい構成を維持する。

### 3. モックを実装前提で運用

- フロントエンド接続確認を仕様確定前に行う。
- 例データを更新し、仕様乖離を最小化する。

## 公式ドキュメント

- 公式サイト: https://stoplight.io/studio
- Docs: https://docs.stoplight.io/
- Platform: https://stoplight.io/platform
- Community: https://community.stoplight.io/

## まとめ

- OpenAPI 設計を GUI とコードの両面で効率化しやすい。
- モック活用で実装前の接続確認と合意形成を進めやすい。
- Git ベース運用を組み込むことで、仕様変更管理を継続しやすい。
