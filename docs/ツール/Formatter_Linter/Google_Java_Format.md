# Google Java Format

## 概要

Google Java Format は Java コードを Google Java Style に従って自動整形するツールである。フォーマットの揺れを抑え、レビュー時にロジック確認へ集中しやすくする。

## 料金

| 区分 | 内容 |
|------|------|
| 本体 | 無料（OSS） |
| 補足 | 実行環境コストは別途 |

## 主な特徴

| 項目 | 内容 |
|------|------|
| 強制統一 | ルール固定で整形差異を排除 |
| シンプル運用 | 設定項目が少なく導入しやすい |
| Java 特化 | Java コード整形に集中 |
| IDE 連携 | 主要 IDE で利用可能 |
| CI 連携 | フォーマット検証を自動化可能 |

## 主な機能

### 整形機能

| 機能 | 説明 |
|------|------|
| 一括整形 | ファイル/ディレクトリ単位で整形 |
| 差分抑制 | 不要なスタイル差分を削減 |
| 規約準拠 | Google Java Style を適用 |
| 安定出力 | 同じ入力に同じ整形結果 |

### 運用機能

| 機能 | 説明 |
|------|------|
| CLI 実行 | スクリプト化しやすい |
| IDE プラグイン | 保存時整形に対応 |
| pre-commit 連携 | コミット前整形で逸脱防止 |
| CI 検証 | 整形漏れを PR 段階で検出 |

### 品質支援

| 機能 | 説明 |
|------|------|
| 規約統一 | チーム内の整形基準を統一 |
| レビュー効率化 | 見た目差分を最小化 |
| 導入容易 | 小規模から適用しやすい |
| 保守性向上 | 読みやすいコード維持に寄与 |

## インストールとセットアップ

公式URL:
- [Google Java Format GitHub](https://github.com/google/google-java-format)

セットアップ手順:
1. CLI または IDE プラグインを導入する。
2. 既存コードへ一括整形を実行して基準を揃える。
3. pre-commit/CI で整形確認を自動化する。

## 基本的な使い方

1. 新規コードは保存時整形を基本運用にする。
2. 既存コードは機能変更時に整形を併用する。
3. 整形専用コミットを分けてレビューしやすくする。
4. Lint ツールと整合するよう運用ルールを明確化する。

最小コマンド:
- 整形: `google-java-format -i src/main/java/**/*.java`

## メリット

- Java フォーマットを統一しやすい
- 設定に迷わず運用しやすい
- レビュー差分を削減できる
- 導入が比較的簡単

## デメリット

- 細かなスタイル調整はできない
- 既存コード導入時に差分が大きくなる
- 他整形ルールとの混在は衝突しやすい

## 他ツールとの比較

| ツール | 主な用途 | 特徴 |
|------|------|------|
| Google Java Format | Java 整形 | ルール固定で強制統一 |
| Spotless | 整形統合 | 複数整形ツールを一元管理可能 |
| Checkstyle | 規約検証 | 整形よりルールチェック中心 |
| Eclipse Formatter | Java 整形 | カスタマイズ性が高い |

## ベストプラクティス

### 1. 導入タイミングを計画

- 大規模整形は機能変更と分離する
- 影響範囲を明示してレビューする

### 2. 自動実行を標準化

- 保存時整形を推奨する
- CI で整形漏れを検知する

### 3. ルール競合を避ける

- 他整形ツールとの責務を明確に分ける
- ルールの二重適用を防ぐ

## 公式ドキュメント

- GitHub: https://github.com/google/google-java-format
- リリース: https://github.com/google/google-java-format/releases

## まとめ

1. **標準化** : Google Java Format は Java 整形の標準化に有効。
2. **導入性** : 設定が少ないためチーム導入がしやすい。
3. **安定性** : 整形差分管理と自動実行設計が安定運用の鍵。
