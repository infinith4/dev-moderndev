# Prettier

## 概要

Prettier は JavaScript/TypeScript を中心としたコードフォーマッタである。統一された整形ルールによりコードスタイル差異を減らし、レビューをロジック中心にできる。

## 料金

| 区分 | 内容 |
|------|------|
| Prettier 本体 | 無料（OSS） |
| 補足 | CI 実行環境コストは別途 |

## 主な特徴

| 項目 | 内容 |
|------|------|
| 強制整形 | ルールを統一して差分を削減 |
| 多言語対応 | JS/TS/JSON/Markdown などに対応 |
| 導入容易 | 初期設定が少なく運用開始しやすい |
| エディタ連携 | 保存時整形で日常運用しやすい |
| CI 適合 | 整形漏れを自動検知可能 |

## 主な機能

### 整形機能

| 機能 | 説明 |
|------|------|
| 一括整形 | プロジェクト全体の整形 |
| チェックモード | 変更せず整形漏れを検知 |
| ignore 管理 | 対象外ファイルを制御 |
| 設定ファイル | ルールをリポジトリで共有 |

### 連携機能

| 機能 | 説明 |
|------|------|
| ESLint 連携 | 役割分担で衝突を回避 |
| pre-commit 連携 | コミット前整形 |
| IDE 連携 | 保存時自動整形 |
| npm scripts | 実行手順を統一 |

### 運用機能

| 機能 | 説明 |
|------|------|
| 規約統一 | チーム間の整形基準を統一 |
| 差分削減 | 不要なスタイル差分を抑制 |
| 導入拡張 | 対象言語を段階的に追加可能 |
| 保守性向上 | 可読性を継続維持しやすい |

## インストールとセットアップ

公式URL:
- [Prettier 公式](https://prettier.io/)
- [Prettier Docs](https://prettier.io/docs/en/)

セットアップ手順:
1. 開発依存に Prettier を追加する。
2. 設定ファイルと ignore ファイルを作成する。
3. npm scripts とエディタ設定で自動整形を有効化する。

## 基本的な使い方

1. 初回は全体整形を行い、基準を揃える。
2. 開発中は保存時整形を基本運用にする。
3. PR 前にチェックモードで整形漏れを確認する。
4. ESLint と併用する場合は責務衝突を避ける設定にする。

最小コマンド:
- 整形: `npx prettier . --write`
- 検証: `npx prettier . --check`

## メリット

- コードスタイル差異を大幅に削減できる
- レビュー効率が向上する
- 導入が容易で即効性が高い
- 多言語ファイルを一括整形できる

## デメリット

- 細かな整形ポリシーは調整しにくい
- 導入時に大規模差分が発生しやすい
- ESLint との設定競合に注意が必要

## 他ツールとの比較

| ツール | 主な用途 | 特徴 |
|------|------|------|
| Prettier | 多言語整形 | ルール固定で運用しやすい |
| ESLint | JS/TS 静的解析 | 品質ルール検証が中心 |
| Biome | lint/format 統合 | 単一ツール運用に向く |
| Black | Python 整形 | Python 専用の強制整形 |

## ベストプラクティス

### 1. 整形導入を分離

- 整形専用コミットを作る
- 機能変更と混在させない

### 2. 自動化を徹底

- 保存時整形と pre-commit を併用する
- CI でチェックを必須化する

### 3. Lint と役割分担

- 整形は Prettier、品質は ESLint に分離する
- 競合ルールを無効化して安定運用する

## 公式ドキュメント

- 公式: https://prettier.io/
- ドキュメント: https://prettier.io/docs/en/
- GitHub: https://github.com/prettier/prettier

## まとめ

1. ** 即効性 ** : Prettier は整形差異を減らす即効性の高いツール。
2. ** 安定性 ** : 自動化と lint 役割分担で運用が安定する。
3. ** 計画性 ** : 導入初期の差分管理を計画して進めるべき。
