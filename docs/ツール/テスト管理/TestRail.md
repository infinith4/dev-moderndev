# TestRail

## 概要

TestRail は、テストケース、テスト計画、実行結果を一元管理するテスト管理プラットフォームである。手動テストと自動テスト結果を統合し、進捗と品質を可視化しやすい。

## 料金

| プラン | 内容 |
|------|------|
| Cloud / Server | 有料（ユーザー数・契約形態に応じる） |
| Trial | 無料トライアルあり |

## 主な特徴

| 項目 | 内容 |
|------|------|
| ケース管理 | 手順・期待結果を標準化して管理 |
| 実行管理 | テストラン/テストプランで進捗統制 |
| トレーサビリティ | 要件・不具合・テストを紐付け |
| レポート | 合格率、欠陥傾向、進捗を可視化 |
| API連携 | 自動テスト結果を取り込み可能 |
| 外部連携 | Jira、Azure DevOps 等と連携可能 |

## 主な機能

### テスト設計機能

| 機能 | 説明 |
|------|------|
| テストケース定義 | 手順、期待結果、前提条件を管理 |
| 階層管理 | セクションでケースを構造化 |
| テンプレート | ケース記述の標準化 |
| カスタム項目 | 優先度、自動化有無などを追加 |

### 実行管理機能

| 機能 | 説明 |
|------|------|
| テストラン | 実行対象ケースを選択して実施 |
| テストプラン | 複数ランをまとめて管理 |
| マイルストーン | リリース単位で進捗管理 |
| 結果記録 | Passed/Failed/Blocked 等を記録 |

### 連携・自動化機能

| 機能 | 説明 |
|------|------|
| REST API | 結果登録や取得を自動化 |
| JUnit取込 | 自動テスト結果をインポート |
| CLI連携 | CIジョブから結果反映 |
| Webhook | イベント通知に対応 |

## インストールとセットアップ

公式URL:
- [TestRail 公式サイト](https://www.testrail.com/)
- [Support / Docs](https://support.testrail.com/)
- [API Reference](https://support.testrail.com/hc/en-us/articles/7077196481428-Introduction-to-the-TestRail-API)
- [trcli](https://github.com/gurock/trcli)

セットアップの要点:
1. Cloud または Server の利用形態を決める。
2. プロジェクト、テストスイート、マイルストーンを作成する。
3. ケーステンプレートとステータス運用を定義する。
4. CI からの結果取込方式（API/trcli）を決める。

## 基本的な使い方

1. テストケースを登録し、セクションで整理する。
2. リリース単位でテストプランを作成する。
3. テストランを実行し、結果と不具合リンクを記録する。
4. 自動テスト結果を JUnit/API で取り込む。
5. ダッシュボードで進捗と品質を確認する。

最小実行例:
- 手動実行: Test Run を作成して結果記録
- 自動連携: `trcli parse_junit -f results.xml ...`

## メリット

- テスト資産を一元管理し、運用を標準化しやすい。
- 手動/自動の結果統合で進捗把握をしやすい。
- レポートで品質指標を継続的に追跡しやすい。

## デメリット

- 小規模チームには運用が重くなりやすい。
- ライセンス費用と管理設計コストが必要。
- 導入初期にケース設計ルール整備が必要。

## CI/CD での使用

CI ではテスト結果（JUnit等）を実行後に TestRail へ送信し、手動結果と統合する。失敗時も結果送信を継続すると、実行実績の欠落を防ぎやすい。

## 他ツールとの比較

| ツール | 主な対象 | 特徴 |
|------|------|------|
| TestRail | テストケース・実行管理 | 独立型で体系的に管理しやすい |
| Xray | Jira統合管理 | Jira内で完結しやすい |
| Zephyr | Jira統合管理 | Jira利用チーム向けに導入しやすい |
| qTest | 大規模品質管理 | 組織横断運用に強い |

## ベストプラクティス

### 1. ケース設計を標準化

- テンプレートと命名規則を統一する。
- 期待結果を曖昧にしない。

### 2. 手動/自動の責務分離

- 自動化対象と手動対象を明確化する。
- 重複ケースを定期的に棚卸しする。

### 3. レポート指標を固定

- 合格率、未実施率、欠陥密度を定点監視する。
- リリース判定基準を数値化する。

## 公式ドキュメント

- 公式サイト: https://www.testrail.com/
- Docs: https://support.testrail.com/
- API: https://support.testrail.com/hc/en-us/articles/7077196481428-Introduction-to-the-TestRail-API
- trcli: https://github.com/gurock/trcli

## まとめ

- テストケースと実行結果を一元管理し、運用標準化を進めやすい。
- 手動/自動結果を統合し、品質状況を可視化しやすい。
- 指標設計と連携ルールを定めると、継続運用を安定化しやすい。
