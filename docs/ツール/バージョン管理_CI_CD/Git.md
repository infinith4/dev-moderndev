# Git

## 概要

Git は分散型バージョン管理システム（DVCS）である。ローカルに完全な履歴を保持しながら、ブランチ運用とマージを中心にチーム開発を進められる。GitHub や GitLab などのホスティングサービスと組み合わせることで、実装からリリースまでの変更管理を一貫して運用できる。

## 料金

| プラン | 内容 |
|------|------|
| Git 本体 | 無料（オープンソース） |
| 商用利用 | ライセンス上利用可能（組織ポリシー確認は必要） |

## 主な特徴

| 項目 | 内容 |
|------|------|
| 分散型管理 | 各開発者が完全な履歴を保持し、オフラインでも作業可能 |
| 高速なブランチ運用 | ブランチ作成・切替・統合を軽量に実施できる |
| 変更追跡 | 差分、履歴、変更者を詳細に追跡できる |
| 柔軟なワークフロー | GitHub Flow、Git Flow などに対応 |
| 豊富な連携 | CI/CD、コードレビュー、チケット管理と組み合わせやすい |
| 業界標準 | 多くの開発現場で前提ツールとして採用されている |

## 主な機能

### 基本操作機能

| 機能 | 説明 |
|------|------|
| `clone` / `init` | リポジトリ作成・取得 |
| `add` / `commit` | 変更の記録 |
| `pull` / `push` | リモートとの同期 |
| `status` / `diff` | 作業状態と差分確認 |

### 履歴・ブランチ機能

| 機能 | 説明 |
|------|------|
| `branch` / `switch` | ブランチ作成・切替 |
| `merge` / `rebase` | 変更統合と履歴整理 |
| `log` / `blame` | 変更履歴と責任箇所の可視化 |
| `tag` | リリースポイントの固定 |

### 運用補助機能

| 機能 | 説明 |
|------|------|
| `.gitignore` | 不要ファイルの追跡除外 |
| `stash` | 作業途中の一時退避 |
| `revert` / `restore` | 安全な取り消し・復元 |
| Hooks | コミット前チェックなどの自動化 |

## インストールとセットアップ

公式URL:
- [Git 公式サイト](https://git-scm.com/)
- [Git Documentation](https://git-scm.com/doc)
- [Pro Git Book](https://git-scm.com/book/ja/v2)

セットアップの要点:
1. OS に合わせて Git をインストールし、`git --version` で確認する。
2. `user.name` と `user.email` をグローバル設定する。
3. デフォルトブランチ名（`main`）や改行コード設定を統一する。
4. チームのブランチ命名規則とコミット規約を最初に決める。

## 基本的な使い方

1. `git clone` でリポジトリを取得する。
2. 作業用ブランチを作成し、変更を `add` と `commit` で記録する。
3. `push` して Pull Request / Merge Request を作成する。
4. レビュー後に `merge` し、必要に応じてタグを付与する。
5. リリース後は `log` や `blame` で変更追跡を行う。

最小運用例:
- 開発: `feature/*` ブランチで実装
- 統合: `main` へ PR/MR でマージ
- リリース: `vX.Y.Z` タグを付与

## メリット

- ローカル中心で高速に作業できる。
- ブランチ戦略により並行開発を進めやすい。
- 変更履歴を詳細に追跡でき、監査性が高い。
- 多くの CI/CD ツールが前提サポートしている。

## デメリット

- 初学者には概念（index、rebase、conflict）が難しい。
- 誤操作（強制 reset など）で履歴を壊すリスクがある。
- 大容量バイナリの運用には工夫（LFS 等）が必要。

## CI/CD での使用

Git は CI/CD のトリガー起点として利用される。`push`、`tag`、Pull Request / Merge Request を条件に、ビルド・テスト・デプロイを自動実行するのが一般的である。ブランチ保護と必須ステータスチェックを組み合わせると、品質ゲートとして機能させやすい。

## 他ツールとの比較

| ツール | 分類 | 特徴 |
|------|------|------|
| Git | 分散型VCS | 業界標準でエコシステムが広い |
| Subversion (SVN) | 集中型VCS | 構成は単純だが分散運用に弱い |
| Mercurial | 分散型VCS | Git に近いが採用事例は少なめ |
| Perforce | 集中型VCS | 大規模バイナリ運用に強い |

## ベストプラクティス

### 1. ブランチ戦略を固定

- `main` 保護と `feature/*` 運用を標準化する。
- 直接 push を制限し、レビュー経由で統合する。

### 2. コミット品質を維持

- 小さく意味のある単位でコミットする。
- コミットメッセージ規約をチームで統一する。

### 3. 自動化を前提に設計

- CI 失敗時はマージ不可にする。
- リリースタグ運用をパイプラインと連携する。

## 公式ドキュメント

- 公式サイト: https://git-scm.com/
- Documentation: https://git-scm.com/doc
- Pro Git Book: https://git-scm.com/book/ja/v2

## まとめ

- Git は分散型の履歴管理により、チームの並行開発を安定して進めやすい。
- ブランチ戦略とレビュー運用を整えることで、変更品質と追跡性を高められる。
- CI/CD の起点として統合すると、ビルドからリリースまで自動化しやすい。
