# Jest

## 概要
Jest は JavaScript/TypeScript 向けの単体テストフレームワークです。テスト実行、モック、カバレッジを一体で扱え、フロントエンドと Node.js の両方で利用されます。

## 料金
| プラン | 料金 | 備考 |
|---|---:|---|
| OSS | 無料 | MIT License |

## 主な特徴
| 特徴 | 内容 |
|---|---|
| オールインワン | 実行、アサーション、モックを標準提供 |
| 開発体験 | 失敗差分表示が分かりやすい |
| 速度最適化 | 並列実行や変更差分実行が可能 |

## 主な機能

### コア機能

| 機能 | 用途 | 実務での使いどころ |
|---|---|---|
| 単体テスト | ロジック検証 | 回帰防止 |
| モック機能 | 依存切り離し | API 呼び出しの隔離 |
| カバレッジ | 網羅率確認 | 品質ゲート設定 |

### 連携機能

| 機能 | 説明 |
|------|------|
| ツール連携 | 既存の開発・運用ツールと連携しやすい |
| 自動実行 | ローカル実行と CI 実行の両方に対応しやすい |

### 運用機能

| 機能 | 説明 |
|------|------|
| 結果管理 | 実行結果を蓄積して比較しやすい |
| 変更追跡 | 設定変更の影響を確認しやすい |

## インストールとセットアップ

公式URL:
- [公式リンク1](https://jestjs.io/)
- [公式リンク2](https://jestjs.io/docs/getting-started)

セットアップ手順:
1. 対象プロジェクトのテスト方針を決めます。
2. 実行対象範囲と命名規約を定義します。
3. CI で自動実行と失敗通知を設定します。

## 基本的な使い方
1. 機能単位でテストケースを作成します。
2. 外部依存はモック化して単体検証を安定化します。
3. カバレッジと失敗ログを確認して改善します。

最小実行例:
- ローカル環境で Jest の基本機能を実行
- CI で定期実行し、結果を比較

## メリット
| 観点 | 内容 |
|---|---|
| 導入性 | 学習コストが比較的低い |
| 生産性 | 標準機能だけで運用しやすい |
| 可視性 | 失敗内容が把握しやすい |

## デメリット
| 観点 | 内容 |
|---|---|
| 実行時間 | テスト増加で遅くなりやすい |
| 設定差異 | Babel/TS 設定との整合が必要 |
| 保守性 | スナップショット乱用で意図が不明瞭になる |

## 他ツールとの比較
| ツール | 強み | 使い分け |
|---|---|---|
| Jest | 標準機能が充実 | 汎用 JS/TS 単体テスト |
| Vitest | Vite 連携と高速性 | フロントエンド高速開発 |
| Mocha + Chai | 柔軟な組み合わせ | 細かい構成制御が必要な場合 |

## ベストプラクティス
1. テスト対象を公開インターフェース中心に設計します。
2. スナップショットは UI 変化点に限定して使います。
3. 失敗しやすい非同期処理はタイムアウトと前提条件を明確化します。

## 公式ドキュメント
- https://jestjs.io/
- https://jestjs.io/docs/getting-started

## まとめ

1. ** 標準化 ** : Jest は単体テストに必要な機能を一通り備えた実務向け標準ツールです。
2. ** 運用性 ** : 安定運用にはモック方針とテスト粒度の統一が重要です。
3. ** 自動運用 ** : カバレッジだけでなく失敗傾向を継続観測すると品質改善につながります。

