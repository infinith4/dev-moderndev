# Vitest

## 概要
Vitest は Vite エコシステム向けの単体テストフレームワークです。高速実行と開発体験を重視した設計で、フロントエンド開発に適しています。

## 料金
| プラン | 料金 | 備考 |
|---|---:|---|
| OSS | 無料 | Vite と高い親和性 |

## 主な特徴
| 特徴 | 内容 |
|---|---|
| 高速実行 | 開発時のフィードバックが速い |
| Jest 互換性 | 既存知識を活かしやすい |
| Vite 連携 | モダンフロント環境で設定がシンプル |

## 主な機能

### コア機能

| 機能 | 用途 | 実務での使いどころ |
|---|---|---|
| 単体テスト | ロジック・UI 振る舞い検証 | 回帰防止 |
| モック | 外部依存の置換 | API/環境依存の隔離 |
| カバレッジ | 品質指標管理 | 品質ゲート運用 |

### 連携機能

| 機能 | 説明 |
|------|------|
| ツール連携 | 既存の開発・運用ツールと連携しやすい |
| 自動実行 | ローカル実行と CI 実行の両方に対応しやすい |

### 運用機能

| 機能 | 説明 |
|------|------|
| 結果管理 | 実行結果を蓄積して比較しやすい |
| 変更追跡 | 設定変更の影響を確認しやすい |

## インストールとセットアップ

公式URL:
- [公式リンク1](https://vitest.dev/)
- [公式リンク2](https://vitest.dev/guide/)

セットアップ手順:
1. Vite/TypeScript 構成との整合を確認します。
2. テスト対象範囲と命名規約を決めます。
3. CI で実行条件と失敗時通知を設定します。

## 基本的な使い方
1. コンポーネントとユーティリティを単位分割してテストします。
2. 外部 API と時間依存処理をモック化します。
3. 結果を継続比較し、劣化を早期検知します。

最小実行例:
- ローカル環境で Vitest の基本機能を実行
- CI で定期実行し、結果を比較

## メリット
| 観点 | 内容 |
|---|---|
| 速度 | 開発サイクルを短縮しやすい |
| 親和性 | Vite 環境で導入しやすい |
| 可読性 | Jest 系記法で移行しやすい |

## デメリット
| 観点 | 内容 |
|---|---|
| 前提依存 | Vite 以外ではメリットが減る場合がある |
| 周辺知見 | 組織に運用ノウハウが少ない場合がある |
| 実行差異 | ブラウザ環境差分への注意が必要 |

## 他ツールとの比較
| ツール | 強み | 使い分け |
|---|---|---|
| Vitest | Vite 連携と高速性 | モダン FE 開発 |
| Jest | 情報量と安定実績 | 幅広い JS/TS プロジェクト |
| Playwright Test | E2E まで対応 | 統合検証中心 |

## ベストプラクティス
1. UI テストとロジックテストを分離して管理します。
2. 高頻度変更モジュールを優先してテスト強化します。
3. 開発時は高速実行、CI では全件実行に分けて運用します。

## 公式ドキュメント
- https://vitest.dev/
- https://vitest.dev/guide/

## まとめ

1. ** 運用性 ** : Vitest は Vite 環境で高速な単体テスト運用を実現しやすいツールです。
2. ** 品質向上 ** : 速度だけでなく、テスト設計の粒度統一が品質向上の鍵になります。
3. ** 自動運用 ** : 開発時と CI 時で実行戦略を分けると運用効率が上がります。

