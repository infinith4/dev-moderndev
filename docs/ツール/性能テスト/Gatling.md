# Gatling

## 概要
Gatling は HTTP API や Web アプリ向けの高負荷試験を自動化する性能テストツールです。シナリオベースで再現性の高い負荷試験を行い、レスポンス時間やエラー率を可視化できます。

## 料金
| プラン | 料金 | 備考 |
|---|---:|---|
| OSS | 無料 | ローカル/CI 実行が中心 |
| Enterprise/Cloud | 有料 | 大規模実行、可視化、管理機能が拡張 |

## 主な特徴
| 特徴 | 内容 |
|---|---|
| 高速実行 | 少ないリソースで多数ユーザーを模擬しやすい |
| シナリオ記述 | ユーザー行動を段階的に定義できる |
| レポート | 実行後に遅延傾向や失敗率を分析しやすい |

## 主な機能
| 機能 | 用途 | 実務での使いどころ |
|---|---|---|
| 負荷シミュレーション | 同時アクセス再現 | リリース前の性能確認 |
| 閾値判定 | SLA/SLO チェック | CI の品質ゲート |
| 結果レポート | ボトルネック分析 | 改善優先度の判断 |

## インストールとセットアップ
1. Java 実行環境を用意し、Gatling を導入します。
2. テスト対象 URL、認証情報、試験データを整理します。
3. 目標指標（p95、エラー率、RPS）を定義し、判定条件を決めます。

## 基本的な使い方
1. 想定ユーザー行動をシナリオとして整理します。
2. 負荷プロファイル（段階増加、一定負荷、スパイク）を設定します。
3. 実行結果を見て、閾値違反と遅延ポイントを特定します。

## メリット
| 観点 | 内容 |
|---|---|
| 再現性 | 同じシナリオで継続測定できる |
| 拡張性 | 小規模から大規模まで段階導入しやすい |
| 可視化 | 性能劣化を定量で把握しやすい |

## デメリット
| 観点 | 内容 |
|---|---|
| 学習コスト | シナリオ設計と指標設計の習熟が必要 |
| 初期整備 | テストデータや前提環境の準備工数がかかる |
| 解釈難度 | 負荷結果の読み違いで誤判断が起きやすい |

## 他ツールとの比較
| ツール | 強み | 使い分け |
|---|---|---|
| Gatling | 高負荷実行と分析が得意 | API/Web の継続性能検証 |
| JMeter | GUI 操作で導入しやすい | 手早い PoC や多プロトコル試験 |
| k6 | JavaScript ベースで CI 統合しやすい | 開発チーム主体の自動化 |
| Locust | Python で柔軟に記述可能 | Python 中心チームの試験 |

## ベストプラクティス
1. 性能目標を先に数値化し、テスト合否基準を明確にします。
2. 本番に近いデータ量・アクセス特性で段階的に負荷を上げます。
3. 性能結果は継続比較し、回帰検知を運用に組み込みます。

## 公式ドキュメント
- https://gatling.io/docs/
- https://github.com/gatling/gatling

## まとめ
1. Gatling は再現性の高い負荷試験と定量評価に強い性能テストツールです。
2. 効果を出すには、シナリオより先に性能目標と判定基準を決めることが重要です。
3. CI と継続比較を組み合わせると、性能回帰の早期検知に有効です。
