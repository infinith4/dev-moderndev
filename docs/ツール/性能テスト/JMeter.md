# JMeter

## 概要
Apache JMeter は、Web/API を中心に負荷試験と応答時間測定を行う性能テストツールである。GUI と CLI の両方に対応し、幅広いチームで導入しやすい。

## 料金

| 区分 | 内容 |
|------|------|
| OSS | 無料（Apache License） |
| 商用支援 | 有料（サポート契約や運用支援） |

## 主な特徴

| 項目 | 内容 |
|------|------|
| GUI 設計 | 視覚的にテスト計画を作成しやすい |
| プラグイン拡張 | 集計・可視化を用途に応じて拡張可能 |
| 多様な実行形態 | ローカル、分散、CI 実行に対応 |
| 導入実績 | 情報量と運用知見が豊富 |
| 柔軟な検証 | 性能と応答内容を同時に確認しやすい |

## 主な機能

### テスト設計機能

| 機能 | 説明 |
|------|------|
| テスト計画作成 | スレッド数やランプアップを定義 |
| シナリオ分割 | 業務単位で試験ケースを構成 |
| パラメータ化 | 入力データを切り替えて試験 |

### 検証機能

| 機能 | 説明 |
|------|------|
| 負荷検証 | 同時接続、TPS、遅延を測定 |
| アサーション | 応答コードや内容を検証 |
| 閾値確認 | 合否基準との乖離を判定 |

### 分析・運用機能

| 機能 | 説明 |
|------|------|
| レポート出力 | 応答時間分布と失敗率を可視化 |
| 結果比較 | 改善前後の性能差を把握 |
| 自動実行連携 | CLI で CI パイプラインに統合 |

## インストールとセットアップ

公式URL:
- [Apache JMeter 公式](https://jmeter.apache.org/)
- [User Manual](https://jmeter.apache.org/usermanual/index.html)

セットアップ手順:
1. Java 実行環境と JMeter 本体を準備する。
2. テスト対象 URL、認証方式、試験データを整理する。
3. 指標（p95、エラー率、TPS）と合否条件を定義する。

## 基本的な使い方
1. テスト計画でリクエスト、ユーザー数、負荷パターンを設定する。
2. 試験を実行し、応答時間と失敗率を確認する。
3. 閾値違反の原因を特定して改善方針を決める。
4. 同条件で再実行し、改善効果を比較する。

最小実行例:
- GUI でテスト計画を作成
- CLI で定期実行して結果を保存

## メリット

- GUI で導入しやすく学習を進めやすい
- 実行方式が多く運用に合わせて拡張しやすい
- 利用実績が多くトラブル時の情報を得やすい
- CLI 連携で継続試験に組み込みやすい

## デメリット

- GUI 中心運用は差分管理が難しくなりやすい
- 大規模試験では実行基盤の調整が必要
- シナリオが肥大化すると保守が属人化しやすい

## 他ツールとの比較

| ツール | 主な用途 | 特徴 |
|------|------|------|
| JMeter | GUI ベース性能試験 | 導入しやすく実績が豊富 |
| Gatling | 高負荷性能試験 | 再現性と分析に強い |
| k6 | 自動化性能試験 | CI/CD 連携とスクリプト管理が容易 |
| Locust | Python 記述試験 | 業務フローの柔軟な表現に強い |

## ベストプラクティス

### 1. テスト計画を標準化

- 命名規約と構成ルールを統一する
- ケースを業務単位で分割して管理する

### 2. 判定基準を先に定義

- 閾値ベースで合否判定を固定する
- 主観的な判定を避ける運用にする

### 3. 監視指標と統合分析

- アプリ監視と性能結果を合わせて確認する
- ボトルネック特定を迅速化する

## 公式ドキュメント

- 公式: https://jmeter.apache.org/
- ドキュメント: https://jmeter.apache.org/usermanual/index.html
- GitHub: https://github.com/apache/jmeter

## まとめ

1. **導入性** : JMeter は GUI と実績により性能試験を導入しやすい。
2. **統制性** : テスト計画と閾値基準を標準化すると運用品質が安定する。
3. **分析性** : 監視指標と結果比較を連携すると改善判断の精度が上がる。
