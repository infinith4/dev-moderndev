# Locust

## 概要
Locust は Python でシナリオを定義して負荷試験を行う性能テストツールです。API や Web システムに対し、実運用に近いユーザー行動を柔軟に再現できます。

## 料金
| プラン | 料金 | 備考 |
|---|---:|---|
| OSS | 無料 | 基本機能を無償利用可能 |
| マネージド環境 | 有料 | ベンダー提供時のみ |

## 主な特徴
| 特徴 | 内容 |
|---|---|
| Python 記述 | 既存 Python 資産を活用しやすい |
| 拡張性 | シナリオを業務特性に合わせて柔軟に定義可能 |
| 分散実行 | 高負荷試験を段階的に拡張しやすい |

## 主な機能
| 機能 | 用途 | 実務での使いどころ |
|---|---|---|
| 負荷生成 | 同時ユーザーを模擬 | サイジング検証 |
| シナリオ制御 | ユーザー行動の再現 | 業務フロー単位の試験 |
| 指標取得 | 応答時間・失敗率可視化 | 改善効果測定 |

## インストールとセットアップ
1. Python 実行環境と Locust を導入します。
2. 試験対象、認証方式、データ準備方針を決めます。
3. 負荷プロファイルと合否基準を定義します。

## 基本的な使い方
1. ユーザー種別ごとの行動パターンを設計します。
2. 負荷を段階的に上げながらテストを実行します。
3. 遅延増加点と失敗要因を分析し、改善を反映します。

## メリット
| 観点 | 内容 |
|---|---|
| 柔軟性 | Python で複雑な業務シナリオを表現しやすい |
| 拡張性 | 分散構成で負荷規模を調整しやすい |
| 開発連携 | Python チームで保守しやすい |

## デメリット
| 観点 | 内容 |
|---|---|
| スキル要件 | Python コーディング前提になる |
| 運用設計 | 大規模時は実行基盤管理が必要 |
| 可視化整備 | 長期運用では結果管理の仕組みが必要 |

## 他ツールとの比較
| ツール | 強み | 使い分け |
|---|---|---|
| Locust | Python で柔軟に設計可能 | 業務シナリオ重視の負荷試験 |
| k6 | JavaScript で自動化しやすい | CI 一体運用 |
| JMeter | GUI で導入しやすい | 非開発者も参加する運用 |
| Gatling | 高負荷特性に強い | 大規模性能検証 |

## ベストプラクティス
1. 業務トランザクション単位でシナリオを分割して管理します。
2. 負荷試験と同時に監視メトリクスを取得し、原因分析を容易にします。
3. テストデータを固定化し、比較可能な結果を継続蓄積します。

## 公式ドキュメント
- https://docs.locust.io/
- https://github.com/locustio/locust

## まとめ
1. Locust は Python ベースで実業務に近い負荷シナリオを作りやすいツールです。
2. 効果的な運用には、負荷設計だけでなく実行基盤と結果管理の整備が必要です。
3. 指標の継続比較と監視連携により、性能課題の発見と改善を加速できます。
