# Grafana

## 概要

Grafana はメトリクス・ログ・トレースを可視化するダッシュボード基盤である。運用状況の見える化と異常検知の迅速化に有効で、監視運用の中心ツールとして広く利用される。

## 料金

| 区分 | 内容 |
|------|------|
| Grafana OSS | 無料 |
| Grafana Cloud/Enterprise | 有料プランあり |

## 主な特徴

| 項目 | 内容 |
|------|------|
| 可視化力 | 多様なパネルで状況を把握しやすい |
| データソース連携 | Prometheus、Loki、CloudWatch などに対応 |
| ダッシュボード共有 | チームで再利用しやすい |
| アラート統合 | 閾値通知を可視化と一体で運用可能 |
| 拡張性 | プラグインで機能追加可能 |

## 主な機能

### 可視化機能

| 機能 | 説明 |
|------|------|
| ダッシュボード作成 | KPI/監視指標を統合表示 |
| パネル種類 | グラフ、テーブル、ヒートマップ等を利用可能 |
| 変数利用 | 環境・サービス切替を容易化 |
| Drilldown | 詳細調査への導線を作成 |

### アラート機能

| 機能 | 説明 |
|------|------|
| 閾値監視 | 条件一致時に通知 |
| 通知先連携 | メール、Slack、PagerDuty 等へ通知 |
| アラート履歴 | 発生状況を追跡可能 |
| ルール管理 | サービス別にルールを整理 |

### 運用機能

| 機能 | 説明 |
|------|------|
| 権限管理 | チーム別閲覧・編集権限制御 |
| テンプレート化 | 共通ダッシュボードの再利用 |
| 監査補助 | 変更履歴と設定差分の追跡 |
| レポート | 週次/月次運用報告に活用可能 |

## インストールとセットアップ

公式URL:
- [Grafana 公式](https://grafana.com/)
- [Grafana Docs](https://grafana.com/docs/)

セットアップ手順:
1. Grafana を導入し管理者アカウントを設定する。
2. データソースを接続する。
3. 監視対象ごとの標準ダッシュボードを作成する。
4. 通知ルールと権限管理を設定する。

## 基本的な使い方

1. まずサービス健全性を示す最小KPIをダッシュボード化する。
2. 次に障害調査向けの詳細パネルを追加する。
3. アラートは誤検知の少ない指標から有効化する。
4. 定期レビューで不要パネルと不要アラートを整理する。

## メリット

- 監視情報を一元可視化できる
- 調査時間を短縮しやすい
- チーム共有と再利用がしやすい
- 多様なデータソースを統合できる

## デメリット

- ダッシュボード乱立時に保守負荷が増える
- 指標設計が弱いと可視化効果が低い
- アラート設計を誤るとノイズが増える

## 他ツールとの比較

| ツール | 主な用途 | 特徴 |
|------|------|------|
| Grafana | 可視化/アラート | OSS で拡張性が高い |
| Kibana | ログ可視化 | Elastic 連携に強い |
| Datadog | 統合監視SaaS | 導入しやすく商用機能が豊富 |
| New Relic | APM/監視SaaS | アプリ性能観測に強い |

## ベストプラクティス

### 1. ダッシュボード階層を設計

- 経営層・運用者・開発者向けで分離する
- 目的ごとに表示粒度を分ける

### 2. 指標定義を標準化

- SLI/SLO ベースで指標を選ぶ
- KPI 名称と単位を統一する

### 3. アラートを絞り込む

- 対応が必要な通知だけを残す
- 定期レビューでノイズを削減する

## 公式ドキュメント

- 公式サイト: https://grafana.com/
- ドキュメント: https://grafana.com/docs/
- GitHub: https://github.com/grafana/grafana

## まとめ

1. Grafana は監視情報の可視化基盤として有効。
2. 指標設計とダッシュボード階層設計が重要。
3. アラートノイズを継続的に削減する運用が必要。
