# tbls

## æ¦‚è¦

**tbls**ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ï¼‰ã¯ã€æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰è‡ªå‹•çš„ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ERå›³ã‚’ç”Ÿæˆã™ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®CLIãƒ„ãƒ¼ãƒ«ã§ã™ã€‚å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã‚’è§£æã—ã€Markdownå½¢å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€PNG/SVGå½¢å¼ã®ERå›³ã€PlantUML/Mermaidå½¢å¼ã®å›³ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šã€ã‚³ãƒ¼ãƒ‰ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¹–é›¢ã‚’é˜²ãã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚

## åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **å…¬å¼ã‚µã‚¤ãƒˆ** | [https://github.com/k1LoW/tbls](https://github.com/k1LoW/tbls) |
| **GitHub** | [https://github.com/k1LoW/tbls](https://github.com/k1LoW/tbls) |
| **é–‹ç™ºè¨€èª** | Go |
| **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹** | MIT License |
| **é–‹ç™ºè€…** | k1LoW (æ—¥æœ¬) |
| **å¯¾å¿œDB** | PostgreSQL / MySQL / MariaDB / SQLite / BigQuery / Redshift / Snowflake / MongoDB / DynamoDB ç­‰ |
| **æ–™é‡‘** | ğŸŸ¢ ç„¡æ–™ãƒ»ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ |

## ä¸»ãªæ©Ÿèƒ½

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã—ã¦ã‚¹ã‚­ãƒ¼ãƒè§£æ
- Markdownå½¢å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ
- ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ãƒ»ã‚«ãƒ©ãƒ å®šç¾©ãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ»åˆ¶ç´„ã‚’æŠ½å‡º
- ãƒ†ãƒ¼ãƒ–ãƒ«é–“ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è‡ªå‹•æ¤œå‡º

### 2. ERå›³è‡ªå‹•ç”Ÿæˆ
- PNG/SVGå½¢å¼ã®ERå›³ç”Ÿæˆ
- PlantUMLå½¢å¼å‡ºåŠ›
- Mermaidå½¢å¼å‡ºåŠ›
- DOTå½¢å¼ï¼ˆGraphvizï¼‰å‡ºåŠ›

### 3. å¤šæ§˜ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¯¾å¿œ
- **RDBMS**: PostgreSQL, MySQL, MariaDB, SQLite, SQL Server
- **ã‚¯ãƒ©ã‚¦ãƒ‰DB**: BigQuery, Redshift, Snowflake, Spanner
- **NoSQL**: MongoDB, DynamoDB
- **ãƒ‡ãƒ¼ã‚¿ã‚¦ã‚§ã‚¢ãƒã‚¦ã‚¹**: BigQuery, Redshift, Snowflake

### 4. CI/CDçµ±åˆ
- ã‚¹ã‚­ãƒ¼ãƒå·®åˆ†æ¤œå‡º
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°è‡ªå‹•åŒ–
- GitHub Actionsçµ±åˆ
- Gitç®¡ç†ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### 5. ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.tbls.ymlï¼‰
- ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»ã‚«ãƒ©ãƒ ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ 
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- é™¤å¤–ãƒ†ãƒ¼ãƒ–ãƒ«æŒ‡å®š

## ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

### ãƒ¡ãƒªãƒƒãƒˆ âœ…

- **ç„¡æ–™ãƒ»ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹** - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è²»ç”¨ä¸è¦
- **ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°** - æ—¢å­˜DBã‹ã‚‰è‡ªå‹•ç”Ÿæˆ
- **å¤šæ§˜ãªDBå¯¾å¿œ** - ä¸»è¦DBã»ã¼ã™ã¹ã¦å¯¾å¿œ
- **ERå›³è‡ªå‹•ç”Ÿæˆ** - PNG/SVG/PlantUML/Mermaidå‡ºåŠ›
- **CI/CDçµ±åˆå®¹æ˜“** - è‡ªå‹•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- **è»½é‡ãƒ»é«˜é€Ÿ** - Goè£½ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å„ªç§€
- **æ—¥æœ¬è£½** - æ—¥æœ¬äººé–‹ç™ºè€…ã«ã‚ˆã‚‹ãƒ„ãƒ¼ãƒ«

### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ âŒ

- **CLIãƒ„ãƒ¼ãƒ«** - GUIéå¯¾å¿œï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³æ“ä½œå¿…é ˆï¼‰
- **ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°å°‚ç”¨** - DBè¨­è¨ˆãƒ„ãƒ¼ãƒ«ã§ã¯ãªã„
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ç·¨é›†ä¸å¯** - ERå›³ã‚’GUIã§ç·¨é›†ã§ããªã„
- **å­¦ç¿’ã‚³ã‚¹ãƒˆ** - CLIæ“ä½œãƒ»è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç†è§£å¿…è¦

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Homebrewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆmacOS/Linuxï¼‰

```bash
# Homebrew
brew install k1LoW/tap/tbls
```

### ãƒã‚¤ãƒŠãƒªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```bash
# GitHub Releasesã‹ã‚‰æœ€æ–°ç‰ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# https://github.com/k1LoW/tbls/releases

# Linux (amd64)
curl -L https://github.com/k1LoW/tbls/releases/latest/download/tbls_linux_amd64.tar.gz | tar xz
sudo mv tbls /usr/local/bin/

# macOS (arm64)
curl -L https://github.com/k1LoW/tbls/releases/latest/download/tbls_darwin_arm64.zip -o tbls.zip
unzip tbls.zip
sudo mv tbls /usr/local/bin/
```

### Goã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
go install github.com/k1LoW/tbls@latest
```

### Dockerã§ä½¿ç”¨

```bash
docker pull ghcr.io/k1low/tbls:latest
```

## åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ

```bash
# PostgreSQL
tbls doc postgres://user:password@localhost:5432/dbname dbdoc/

# MySQL
tbls doc mysql://user:password@localhost:3306/dbname dbdoc/

# SQLite
tbls doc sqlite:///path/to/database.db dbdoc/

# BigQuery
tbls doc bigquery://project-id/dataset-name dbdoc/
```

å®Ÿè¡Œã™ã‚‹ã¨ã€`dbdoc/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ãŒç”Ÿæˆã•ã‚Œã¾ã™:
- `README.md` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å…¨ä½“æ¦‚è¦
- `schema.md` - ã‚¹ã‚­ãƒ¼ãƒè©³ç´°
- `ãƒ†ãƒ¼ãƒ–ãƒ«å.md` - å„ãƒ†ãƒ¼ãƒ–ãƒ«è©³ç´°
- `schema.svg` - ERå›³ï¼ˆSVGå½¢å¼ï¼‰

### ERå›³ã®ã¿ç”Ÿæˆ

```bash
# PNGå½¢å¼
tbls out -t png postgres://user:password@localhost:5432/dbname > schema.png

# SVGå½¢å¼
tbls out -t svg postgres://user:password@localhost:5432/dbname > schema.svg

# PlantUMLå½¢å¼
tbls out -t plantuml postgres://user:password@localhost:5432/dbname > schema.puml

# Mermaidå½¢å¼
tbls out -t mermaid postgres://user:password@localhost:5432/dbname > schema.mmd

# DOTå½¢å¼ï¼ˆGraphvizï¼‰
tbls out -t dot postgres://user:password@localhost:5432/dbname > schema.dot
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½¿ç”¨

```yaml
# .tbls.yml
# ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å®šç¾©
dsn: postgres://user:password@localhost:5432/dbname

# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡ºåŠ›å…ˆ
docPath: dbdoc

# ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ 
comments:
  - table: users
    tableComment: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«
    columnComments:
      id: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
      name: ãƒ¦ãƒ¼ã‚¶ãƒ¼å
      email: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰
      created_at: ä½œæˆæ—¥æ™‚

# é™¤å¤–ãƒ†ãƒ¼ãƒ–ãƒ«
exclude:
  - schema_migrations
  - ar_internal_metadata

# ERå›³è¨­å®š
er:
  format: svg
  distance: 1  # é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«ã®è·é›¢ï¼ˆ1=ç›´æ¥é–¢é€£ã®ã¿ï¼‰
```

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨
tbls doc
```

## å®Ÿè·µä¾‹

### PostgreSQLã‚¹ã‚­ãƒ¼ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ

```bash
# 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šè¨­å®š
export DATABASE_URL="postgres://postgres:password@localhost:5432/myapp_production"

# 2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
tbls doc $DATABASE_URL docs/db/

# 3. ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la docs/db/
# README.md
# schema.md
# users.md
# posts.md
# comments.md
# schema.svg
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¾‹ï¼ˆ.tbls.ymlï¼‰

```yaml
# ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
dsn: postgres://postgres:password@localhost:5432/myapp_production

# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡ºåŠ›å…ˆ
docPath: docs/db

# ERå›³ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
er:
  format: svg
  distance: 2
  showColumnTypes: true

# é™¤å¤–ãƒ†ãƒ¼ãƒ–ãƒ«
exclude:
  - schema_migrations
  - ar_internal_metadata
  - spatial_ref_sys

# ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»ã‚«ãƒ©ãƒ ã‚³ãƒ¡ãƒ³ãƒˆ
comments:
  - table: users
    tableComment: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«
    columnComments:
      id: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆUUIDï¼‰
      email: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ­ã‚°ã‚¤ãƒ³IDï¼‰
      encrypted_password: æš—å·åŒ–ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆbcryptï¼‰
      created_at: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥æ™‚
      updated_at: æœ€çµ‚æ›´æ–°æ—¥æ™‚

  - table: posts
    tableComment: æŠ•ç¨¿è¨˜äº‹ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«
    columnComments:
      id: æŠ•ç¨¿ID
      user_id: æŠ•ç¨¿è€…IDï¼ˆusers.idã¸ã®å¤–éƒ¨ã‚­ãƒ¼ï¼‰
      title: æŠ•ç¨¿ã‚¿ã‚¤ãƒˆãƒ«
      body: æŠ•ç¨¿æœ¬æ–‡ï¼ˆMarkdownå½¢å¼ï¼‰
      published: å…¬é–‹ãƒ•ãƒ©ã‚°
      published_at: å…¬é–‹æ—¥æ™‚
```

### GitHub Actionsã§è‡ªå‹•æ›´æ–°

```yaml
# .github/workflows/update-db-docs.yml
name: Update Database Documentation

on:
  push:
    branches:
      - main
    paths:
      - 'db/migrate/**'
  workflow_dispatch:

jobs:
  update-docs:
    runs-on: ubuntu-latest

    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: postgres
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 5432:5432

    steps:
      - uses: actions/checkout@v4

      - name: Set up Database
        run: |
          PGPASSWORD=postgres psql -h localhost -U postgres -c "CREATE DATABASE myapp_test;"
          # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆä¾‹: Railsï¼‰
          bundle install
          bundle exec rails db:migrate RAILS_ENV=test

      - name: Install tbls
        run: |
          curl -L https://github.com/k1LoW/tbls/releases/latest/download/tbls_linux_amd64.tar.gz | tar xz
          sudo mv tbls /usr/local/bin/

      - name: Generate Database Documentation
        run: |
          tbls doc postgres://postgres:postgres@localhost:5432/myapp_test docs/db/

      - name: Commit and Push
        run: |
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          git add docs/db/
          git diff --quiet && git diff --staged --quiet || \
            (git commit -m "Update database documentation [skip ci]" && git push)
```

### ã‚¹ã‚­ãƒ¼ãƒå·®åˆ†æ¤œå‡º

```bash
# ç¾åœ¨ã®DBã‚¹ã‚­ãƒ¼ãƒã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å·®åˆ†ã‚’æ¤œå‡º
tbls diff postgres://user:password@localhost:5432/dbname docs/db/

# å·®åˆ†ãŒã‚ã‚Œã° exit 1 ãŒè¿”ã•ã‚Œã‚‹ï¼ˆCI/CDã§åˆ©ç”¨å¯èƒ½ï¼‰
```

### Docker Composeã§ä½¿ç”¨

```yaml
# docker-compose.yml
services:
  tbls:
    image: ghcr.io/k1low/tbls:latest
    volumes:
      - .:/work
    working_dir: /work
    command: doc postgres://postgres:password@db:5432/myapp docs/db/
    depends_on:
      - db

  db:
    image: postgres:15
    environment:
      POSTGRES_PASSWORD: password
      POSTGRES_DB: myapp
```

```bash
docker-compose run --rm tbls
```

## ERå›³å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¯”è¼ƒ

| ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | ç”¨é€” | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ |
|------------|------|---------|-----------|
| **PNG** | ç”»åƒåŸ‹ã‚è¾¼ã¿ã€ãƒ—ãƒ¬ã‚¼ãƒ³ | äº’æ›æ€§é«˜ã„ | ç·¨é›†ä¸å¯ã€æ‹¡å¤§ã§ãƒœã‚±ã‚‹ |
| **SVG** | Webè¡¨ç¤ºã€é«˜å“è³ª | ãƒ™ã‚¯ã‚¿ãƒ¼ã€æ‹¡å¤§ã—ã¦ã‚‚é®®æ˜ | ãƒ–ãƒ©ã‚¦ã‚¶ä¾å­˜ |
| **PlantUML** | ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ERå›³ | ãƒ†ã‚­ã‚¹ãƒˆã§ç®¡ç†ã€å·®åˆ†ç¢ºèªå®¹æ˜“ | ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¿…è¦ |
| **Mermaid** | MarkdownåŸ‹ã‚è¾¼ã¿ | GitHub/GitLabå¯¾å¿œ | ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¿…è¦ |
| **DOT** | Graphvizé€£æº | ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæŸ”è»Ÿ | Graphvizå¿…è¦ |

## CI/CDçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã«è‡ªå‹•æ›´æ–°

```yaml
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ â†’ tbls doc â†’ ã‚³ãƒŸãƒƒãƒˆ
on:
  push:
    paths:
      - 'db/migrate/**'
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: Pull Requestã§å·®åˆ†ãƒã‚§ãƒƒã‚¯

```yaml
# tbls diff ã§å·®åˆ†æ¤œå‡º â†’ ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿
on:
  pull_request:
    paths:
      - 'db/migrate/**'
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: å®šæœŸçš„ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

```yaml
# ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œï¼ˆæ¯æ—¥åˆå‰0æ™‚ï¼‰
on:
  schedule:
    - cron: '0 0 * * *'
```

## é–¢é€£ãƒ„ãƒ¼ãƒ«ãƒ»é€£æº

| ãƒ„ãƒ¼ãƒ« | ç”¨é€” | é€£æºæ–¹æ³• |
|--------|------|---------|
| **PlantUML** | ERå›³ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° | PlantUMLå½¢å¼å‡ºåŠ› |
| **Mermaid** | MarkdownåŸ‹ã‚è¾¼ã¿ERå›³ | Mermaidå½¢å¼å‡ºåŠ› |
| **GitHub Actions** | CI/CDè‡ªå‹•åŒ– | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆ |
| **Flyway** | DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ |
| **Liquibase** | DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ |
| **Graphviz** | DOTå½¢å¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° | DOTå½¢å¼å‡ºåŠ› |

## ä»–ãƒ„ãƒ¼ãƒ«ã¨ã®æ¯”è¼ƒ

| æ©Ÿèƒ½ | tbls | SchemaSpy | ERDPlus | MySQL Workbench | dbdocs.io |
|------|------|-----------|---------|-----------------|-----------|
| ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚° | âœ… | âœ… | âŒ | âœ… | âœ… |
| ERå›³è‡ªå‹•ç”Ÿæˆ | âœ… | âœ… | âš ï¸ æ‰‹å‹• | âœ… | âœ… |
| Markdownå‡ºåŠ› | âœ… | âŒ | âŒ | âŒ | âœ… |
| CLIå¯¾å¿œ | âœ… | âœ… | âŒ | âš ï¸ é™å®šçš„ | âœ… |
| CI/CDçµ±åˆ | âœ… å„ªç§€ | âš ï¸ å¯èƒ½ | âŒ | âŒ | âœ… |
| GUI | âŒ | âœ… HTML | âœ… | âœ… | âœ… Web |
| ç„¡æ–™ | âœ… | âœ… | âœ… | âš ï¸ ä¸€éƒ¨ | âš ï¸ åˆ¶é™ã‚ã‚Š |

## æ¨å¥¨ç”¨é€”

### æœ€é©ãªã‚±ãƒ¼ã‚¹

- æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–
- CI/CDã§ã®ã‚¹ã‚­ãƒ¼ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•æ›´æ–°
- Gitç®¡ç†ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸
- ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ
- è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çµ±ä¸€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ä¸å‘ããªã‚±ãƒ¼ã‚¹

- æ–°è¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ï¼‰
- GUIã§ã®ERå›³ç·¨é›†ãŒå¿…è¦
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªè¨­è¨ˆä½œæ¥­
- ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«é‡è¦–ã®ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« .tbls.yml ã‚’é…ç½®
# Gitç®¡ç†ã«å«ã‚ã‚‹
git add .tbls.yml
```

### ã‚³ãƒ¡ãƒ³ãƒˆã®å……å®Ÿ

```yaml
# .tbls.yml
comments:
  - table: users
    tableComment: |
      ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«

      ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ã‚’ç®¡ç†ã—ã¾ã™ã€‚
      èªè¨¼ã¯devise gemã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
    columnComments:
      id: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆUUIDã€ä¸»ã‚­ãƒ¼ï¼‰
      email: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ­ã‚°ã‚¤ãƒ³IDã€ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„ï¼‰
```

### ç’°å¢ƒå¤‰æ•°ã§DBæ¥ç¶šæƒ…å ±ç®¡ç†

```bash
# .env
DATABASE_URL=postgres://user:password@localhost:5432/dbname

# .tbls.yml
dsn: ${DATABASE_URL}
```

### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒƒã‚¯ã«çµ„ã¿è¾¼ã¿

```ruby
# Rails: db/migrate/20250101000000_update_db_docs.rb
class UpdateDbDocs < ActiveRecord::Migration[7.0]
  def up
    system('tbls doc')
  end
end
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

**å•é¡Œ**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# è§£æ±ºæ–¹æ³•: æ¥ç¶šæ–‡å­—åˆ—ç¢ºèª
tbls doc --debug postgres://user:password@localhost:5432/dbname docs/
```

**å•é¡Œ**: ERå›³ãŒå¤§ãã™ãã¦èª­ã‚ãªã„

```yaml
# è§£æ±ºæ–¹æ³•: distanceè¨­å®šã§é–¢é€£ç¯„å›²åˆ¶é™
er:
  distance: 1  # ç›´æ¥é–¢é€£ã®ã¿
```

**å•é¡Œ**: ä¸€éƒ¨ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè¡¨ç¤ºã•ã‚Œãªã„

```yaml
# è§£æ±ºæ–¹æ³•: excludeè¨­å®šç¢ºèª
exclude:
  - schema_migrations  # é™¤å¤–ãƒªã‚¹ãƒˆç¢ºèª
```

## å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

| ãƒªã‚½ãƒ¼ã‚¹ | URL |
|---------|-----|
| **å…¬å¼GitHub** | [https://github.com/k1LoW/tbls](https://github.com/k1LoW/tbls) |
| **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** | [https://github.com/k1LoW/tbls/blob/main/README.md](https://github.com/k1LoW/tbls/blob/main/README.md) |
| **ä½¿ç”¨ä¾‹** | [https://github.com/k1LoW/tbls/tree/main/sample](https://github.com/k1LoW/tbls/tree/main/sample) |

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Flyway](./Flyway.md) - DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«
- [Liquibase](./Liquibase.md) - DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«
- [DBML](./DBML.md) - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®šç¾©è¨€èª
- [ERDPlus](./ERDPlus.md) - ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ERå›³ä½œæˆãƒ„ãƒ¼ãƒ«
- [MySQL Workbench](./MySQL_Workbench.md) - MySQLå…¬å¼GUIãƒ„ãƒ¼ãƒ«
- [pgModeler](./pgModeler.md) - PostgreSQLãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«

---

**ã‚«ãƒ†ã‚´ãƒª**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
**å¯¾è±¡å·¥ç¨‹**: è©³ç´°è¨­è¨ˆãƒ»å®Ÿè£…ãƒ»ä¿å®ˆ
**æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ
**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
