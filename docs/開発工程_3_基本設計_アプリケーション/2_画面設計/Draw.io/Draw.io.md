# Draw.io（画面設計）

## 概要

Draw.io（diagrams.net）は、完全無料のオンライン図作成ツールで、ワイヤーフレーム、画面遷移図、画面フロー図の作成に適しています。基本設計フェーズでは、画面の論理構成や遷移関係を視覚化するために活用します。

### 基本設計フェーズでの活用

- **ワイヤーフレーム**: 画面レイアウトの骨組み
- **画面遷移図**: 画面間の遷移関係を図解
- **画面フロー図**: ユーザーの操作フローを可視化
- **画面項目一覧**: テーブル形式で項目を整理
- **モックアップ**: 低忠実度のプロトタイプ

### メリット・デメリット

**メリット**
- 完全無料で広告なし
- ブラウザベースでインストール不要
- UIモックアップ用のテンプレートが豊富
- Google Drive/OneDriveと統合でファイル管理が容易
- Git統合でバージョン管理可能

**デメリット**
- 高忠実度デザインには不向き
- プロトタイプ機能がない（静的な図のみ）
- リアルタイム協業機能が弱い

## 利用方法

### 1. Draw.ioへのアクセスとテンプレート選択

1. [diagrams.net](https://www.diagrams.net/)にアクセス
2. 保存先を選択（Device、Google Drive、OneDrive等）
3. 「Create New Diagram」をクリック
4. テンプレートから「Software」→「Mockup」を選択

### 2. UIモックアップライブラリの有効化

1. 左パネルで「More Shapes...」をクリック
2. 以下のライブラリにチェック:
   - **Mockups / Containers**: レイアウト要素
   - **Mockups / Forms**: フォーム要素
   - **Mockups / Graphics**: アイコン、画像プレースホルダー
   - **Mockups / Navigation**: ナビゲーション要素
   - **Mockups / Text**: テキスト要素
3. 「Apply」をクリック

### 3. ワイヤーフレームの作成

#### 例: ログイン画面のワイヤーフレーム

**1. ブラウザウィンドウの配置**

1. 「Mockups / Containers」から「Browser Window」を配置
2. サイズを調整（例: 800 x 600）

**2. ヘッダーの配置**

1. 「Rectangle」を配置し、ブラウザ上部に配置
2. サイズ: 800 x 60
3. ラベル: "ヘッダー（ロゴ、ナビゲーション）"

**3. ログインフォームの配置**

中央にフォームコンテナを配置:

1. 「Rectangle」を配置: 400 x 400
2. ラベル: "ログインフォーム"
3. 内部に以下を配置:
   - Text: "ログイン"（タイトル）
   - Text: "メールアドレス"（ラベル）
   - 「Mockups / Forms」から「Text Input」を配置
   - Text: "パスワード"（ラベル）
   - 「Mockups / Forms」から「Text Input」を配置
   - 「Mockups / Forms」から「Button」を配置
   - ボタンラベル: "ログイン"

**4. フッターの配置**

1. 「Rectangle」を配置: 800 x 50
2. ラベル: "フッター（コピーライト）"

### 4. 画面項目定義の作成

Draw.ioでテーブルを作成し、画面項目を定義します。

#### テーブルの作成

1. 「Mockups / Text」から「Table」を配置
2. または、「Insert」→「Table」でカスタムテーブル作成
3. 行・列数を設定（例: 6行 x 8列）

#### 項目定義テーブルの例

| 項目ID | 項目名 | 項目タイプ | 桁数 | 必須 | デフォルト | DB項目名 | 備考 |
|--------|--------|-----------|------|------|----------|---------|------|
| 001 | メールアドレス | text | 100 | ○ | - | email | メール形式 |
| 002 | パスワード | password | 20 | ○ | - | password_hash | 8文字以上 |
| 003 | ログイン状態保持 | checkbox | - | - | OFF | remember_me | - |

### 5. 画面遷移図の作成

画面間の遷移関係を視覚化します。

#### 画面遷移図の例

**画面一覧**
- ログイン画面
- 商品一覧画面
- 商品詳細画面
- カート画面
- 購入確認画面
- 購入完了画面

#### 作成手順

1. **画面ノードの配置**
   - 各画面を「Rectangle」で表現
   - サイズ: 120 x 80
   - ラベル: 画面名（例: "ログイン画面"）

2. **遷移矢印の配置**
   - 「Arrow」で画面間を接続
   - 遷移条件をラベルに追加（例: "ログイン成功"、"商品クリック"）

**例: ECサイトの画面遷移図**

```
[ログイン画面]
    ↓ (ログイン成功)
[商品一覧画面]
    ↓ (商品クリック)
[商品詳細画面]
    ↓ (カートに追加)
[カート画面]
    ↓ (購入手続きへ)
[購入確認画面]
    ↓ (注文確定)
[購入完了画面]
```

Draw.ioでの配置:
- 左から右へ、または上から下へ画面を配置
- 矢印で遷移を接続
- 矢印のラベルに遷移トリガーを記載

### 6. 画面フロー図の作成

ユーザーの操作フローを詳細に表現します。

#### 例: 商品購入フロー

**フローチャート要素**
- **開始/終了**: 楕円
- **処理**: 四角形
- **判定**: 菱形
- **画面**: 角丸四角形

**商品購入フローの例**

```
[開始]
    ↓
[商品一覧画面表示]
    ↓
[商品を選択]
    ↓
[商品詳細画面表示]
    ↓
<カートに追加？>
    ├─ No → [商品一覧に戻る]
    └─ Yes → [カート画面表示]
        ↓
        <購入手続きへ？>
        ├─ No → [商品一覧に戻る]
        └─ Yes → [購入確認画面表示]
            ↓
            [注文内容確認]
            ↓
            <注文確定？>
            ├─ No → [カート画面に戻る]
            └─ Yes → [注文処理実行]
                ↓
                <処理成功？>
                ├─ No → [エラー画面表示]
                └─ Yes → [購入完了画面表示]
                    ↓
                    [終了]
```

### 7. レスポンシブデザインのワイヤーフレーム

デスクトップ、タブレット、モバイルの各画面レイアウトを作成します。

#### 3デバイス対応の例

**1. デスクトップ版（1366 x 768）**
- 3カラムレイアウト
- サイドバー + メインコンテンツ + 広告エリア

**2. タブレット版（768 x 1024）**
- 2カラムレイアウト
- メインコンテンツ + サイドバー（広告エリア削除）

**3. モバイル版（375 x 667）**
- 1カラムレイアウト
- メインコンテンツのみ（サイドバー非表示）

各バージョンを横に並べて配置し、レイアウト変更点を視覚化します。

### 8. 入力チェック仕様の図解

バリデーションルールをフローチャートで表現します。

#### 例: メールアドレスのバリデーション

```
[メールアドレス入力]
    ↓
<入力あり？>
├─ No → [エラー: 必須項目です]
└─ Yes
    ↓
    <メール形式？>
    ├─ No → [エラー: 正しいメールアドレスを入力してください]
    └─ Yes
        ↓
        <100文字以内？>
        ├─ No → [エラー: 100文字以内で入力してください]
        └─ Yes → [OK]
```

### 9. 画面処理フローの作成

ボタンクリック時の処理を詳細に記述します。

#### 例: ログインボタンクリック時の処理

```
[ログインボタンクリック]
    ↓
[入力チェック実行]
    ↓
<チェックOK？>
├─ No → [エラーメッセージ表示] → [処理終了]
└─ Yes
    ↓
    [ローディング表示]
    ↓
    [認証API呼び出し]
    ↓
    <API成功？>
    ├─ No → [エラーメッセージ表示] → [処理終了]
    └─ Yes
        ↓
        <認証OK？>
        ├─ No → [エラー: メールアドレスまたはパスワードが間違っています]
        └─ Yes
            ↓
            [セッション作成]
            ↓
            [商品一覧画面へ遷移]
            ↓
            [処理終了]
```

### 10. モックアップの詳細化

より詳細なモックアップを作成する場合、以下の要素を追加します。

#### 詳細要素

**1. ナビゲーションメニュー**
- 「Mockups / Navigation」から「Horizontal Menu」を使用
- メニュー項目: ホーム、商品一覧、カート、マイページ

**2. 検索バー**
- 「Mockups / Forms」から「Search Box」を使用

**3. 商品カード**
- 「Mockups / Graphics」から「Image」（商品画像プレースホルダー）
- テキスト: 商品名、価格
- 「Button」: カートに追加

**4. ページネーション**
- 「Mockups / Navigation」から「Pagination」を使用

### 11. 画面仕様書テンプレート

Draw.ioで画面仕様書のページを作成します。

#### 1ページ構成

```
┌─────────────────────────────────────┐
│ 画面ID: SCR-001                      │
│ 画面名: ログイン画面                  │
│ 作成日: 2025-01-15                   │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 【ワイヤーフレーム】                  │
│ (ログイン画面のワイヤーフレームを配置) │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 【画面項目定義】                      │
│ (項目定義テーブルを配置)              │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 【画面処理フロー】                    │
│ (ログインボタンクリック時の処理フロー) │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 【画面遷移】                          │
│ 遷移元: -                            │
│ 遷移先: 商品一覧画面（ログイン成功時）│
└─────────────────────────────────────┘
```

### 12. エクスポートとバージョン管理

#### PNG/PDF/SVGエクスポート

1. 「File」→「Export as」→形式を選択
2. **PNG**: プレゼンテーション用
3. **PDF**: ドキュメント添付用
4. **SVG**: 拡大縮小に強いベクター形式

#### Git統合

Draw.ioファイル（.drawio）はXML形式のため、Gitでバージョン管理できます。

```bash
git add 画面設計_ログイン画面.drawio
git commit -m "Add login screen wireframe"
git push
```

#### Google Drive/OneDriveでのバージョン履歴

1. Google Drive/OneDriveに保存
2. ファイルを右クリック→「バージョン履歴」
3. 過去のバージョンを確認・復元

## 公式ドキュメント

- **公式サイト**: [diagrams.net](https://www.diagrams.net/)
- **ユーザーマニュアル**: [Draw.io User Manual](https://www.drawio.com/doc/)
- **モックアップガイド**: [Mockups with draw.io](https://www.drawio.com/blog/mockups-in-confluence)
- **テンプレート**: [Diagram Templates](https://www.diagrams.net/example-diagrams)

## 学習リソース

- **ワイヤーフレーム作成ガイド**: [Wireframing Tutorial](https://www.youtube.com/results?search_query=drawio+wireframe)
- **Draw.io YouTube**: [diagrams.net Channel](https://www.youtube.com/c/drawio)

## 関連リンク

- [UI/UX設計ガイドライン](https://www.nngroup.com/)
- [アクセシビリティガイドライン（WCAG）](https://www.w3.org/WAI/WCAG21/quickref/)
- [Material Design](https://m3.material.io/)

## 関連ドキュメント

このツールは他の開発工程でも使用されます：

- [要件定義/業務分析でのDraw.io](../../../開発工程_2_要件定義/2_業務分析/Draw.io/Draw.io.md) - BPMNプロセス図作成
- [要件定義/ユースケース分析でのDraw.io](../../../開発工程_2_要件定義/3_ユースケース分析（機能要件定義）/Draw.io/Draw.io.md) - ユースケース図作成
- [要件定義/システム方針検討でのDraw.io](../../../開発工程_2_要件定義/10_システム方針検討（機能要件定義）/Draw.io/Draw.io.md) - システム構成図作成
- [基本設計（アプリケーション）/データベース論理設計でのDraw.io](../5_データベース論理設計/Draw.io/Draw.io.md) - ER図、テーブル関連図
- [基本設計（アプリケーション）/バッチ設計でのDraw.io](../7_バッチ設計/Draw.io/Draw.io.md) - バッチ処理フロー図
- [基本設計（インフラ）/ネットワーク構成図でのDraw.io](../../../開発工程_4_基本設計_インフラ/1_ネットワーク構成図/Draw.io/Draw.io.md) - ネットワーク構成図、VLAN設計

全ツールの一覧については[ツール索引](../../../ツール索引.md)を参照してください。
